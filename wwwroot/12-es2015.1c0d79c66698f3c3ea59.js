(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{GFCI:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var i=u("atuK"),o=u("z5nN"),s=u("pMnS"),a=u("SVse"),r=u("s7LF");class c{constructor(l,n,u){this.alertService=l,this.modalService=n,this.movieRoleService=u,this.movieArtist={}}ngOnInit(){}addArtist(){this.movieArtist.roleType=this.roleType,this.movieArtist.roleTypeId=this.roleType.id,this.movieArtist.artistId=this.artist.id,this.movieArtist.movieId=this.movie.id,this.movieArtist.roleDescription=this.roleDescription,this.movieRoleService.createMovieRole(this.movieArtist).subscribe(l=>{this.modalRef.hide(),l.artist.photoUrl=this.artist.photoUrl,this.alertService.success("Successfully added "+l.artist.firstName+" "+l.artist.lastName+" as "+l.roleType.roleName+".  A moderator shall soon review it."),this.movieRoleService.movieRoleSource.next(l)},l=>{this.modalRef.hide(),this.alertService.danger(l)})}openModal(l){this.modalRef=this.modalService.show(l)}}var b=u("3LUQ"),d=u("LqlI"),p=u("FXL2"),m=e.nb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.2,1.2);transition-duration:.5s;transition-timing-function:ease-out;opacity:.7}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1,1);transition-duration:.5s;transition-timing-function:ease-out}.card-img-wrapper[_ngcontent-%COMP%]{overflow:hidden;position:relative}.member-icons[_ngcontent-%COMP%]{position:absolute;bottom:-30%;left:0;right:0;margin-left:auto;margin-right:auto;opacity:0}.card-img-wrapper[_ngcontent-%COMP%]:hover   .member-icons[_ngcontent-%COMP%]{bottom:0;opacity:1}.animate[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:30%;left:5%}"]],data:{}});function g(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h6",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function v(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," "," "])),(l()(),e.pb(3,0,null,null,1,"button",[["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.modalRef.hide()&&e),e}),null,null)),(l()(),e.pb(4,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,15,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,14,"div",[["class","card mx-2"],["style","width: 300px; "]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,1,"div",[["class","card-img-wrapper"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,0,"img",[["alt","..."],["class","card-img-top img-responsive"]],[[8,"src",4]],null,null,null,null)),(l()(),e.pb(9,0,null,null,11,"div",[["class","card-body p-1"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,6,"textarea",[["class","form-control"],["placeholder",'(Optional)Enter the role description, like the character\'s name for an actor, "co-director" in case of multiple directors, etc'],["style","height:120px"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Bb(l,12)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,12).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,12)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,12)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.roleDescription=u)&&t),t}),null,null)),e.ob(12,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(14,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(16,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.Jb(-1,null,["                           "])),(l()(),e.pb(18,0,null,null,2,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),e.pb(19,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addArtist()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Add "]))],(function(l,n){l(n,14,0,n.component.roleDescription)}),(function(l,n){var u=n.component;l(n,2,0,u.artist.firstName,u.artist.lastName),l(n,8,0,e.tb(1,"",u.artist.photoUrl||".../../../../../assets/artist.png","")),l(n,11,0,e.Bb(n,16).ngClassUntouched,e.Bb(n,16).ngClassTouched,e.Bb(n,16).ngClassPristine,e.Bb(n,16).ngClassDirty,e.Bb(n,16).ngClassValid,e.Bb(n,16).ngClassInvalid,e.Bb(n,16).ngClassPending)}))}function h(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,11,"div",[["class","card mx-2"],["style","width: 150px; "]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,7,"div",[["class","card-img-wrapper"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,2,"img",[["alt","..."],["class","card-img-top img-responsive"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(4,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.eb(16777216,null,null,1,null,g)),e.ob(6,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(7,0,null,null,1,"button",[["class","btn btn-primary member-icons animate"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openModal(e.Bb(l,12))&&t),t}),null,null)),(l()(),e.pb(8,0,null,null,0,"i",[["class","fa fa-plus-circle fa-lg"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,2,"div",[["class","card-body p-1"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(11,null,[" "," "," "])),(l()(),e.eb(0,[["template",2]],null,0,null,v))],(function(l,n){var u=n.component;l(n,4,0,"card-img-top img-responsive",!u.artist.isApproved&&"pending-approval"),l(n,6,0,!u.artist.isApproved)}),(function(l,n){var u=n.component;l(n,2,0,e.tb(1,"",u.artist.photoUrl||".../../../../../assets/artist.png","")),l(n,11,0,u.artist.firstName,u.artist.lastName)}))}var f=u("z/SZ"),y=u("iInd"),C=u("2p+7"),B=u("6No5");class k{constructor(l,n,u){this.movieRoleService=l,this.bsModalRef=n,this.alertService=u}ngOnInit(){}saveChanges(){const l={};l.MovieRoleId=this.movieRole.id,l.roleDescription=this.movieRole.roleDescription,l.isMovieRoleApproved=this.movieRole.isApproved,this.movieRoleService.updateMovieRole(l).subscribe(()=>{this.alertService.success(this.movieRole.isApproved?"Your changes have been submitted for approval. A moderator will review them shortly.":"Successfully updated the entry"),this.bsModalRef.hide()},l=>{this.alertService.danger(l),this.bsModalRef.hide()})}}class x{constructor(l,n,u,e,t,i){this.artistService=l,this.authenticationService=n,this.movieRoleService=u,this.alertService=e,this.modalService=t,this.userService=i,this.movieRolesAdded=[],this.movieArtist={},this.pageNumber=1,this.pageSize=6}ngOnInit(){this.getArtists(),this.movie&&(this.movieRolesAdded=this.movieRoles),this.movieRoleService.$movieRoleSource.subscribe(l=>{l.roleType.roleName===this.roleType.roleName&&this.movieRolesAdded.push(l)})}getArtists(){this.artistService.getArtists(this.pageNumber,this.pageSize,this.search).subscribe(l=>{this.artists=l.data,this.totalItems=l.pagination.totalItems})}pageChanged(l){this.pageNumber=l.page,this.getArtists()}edit(l){this.bsModalRef=this.modalService.show(k,{initialState:{movieRole:l}})}delete(l,n){l.isApproved?this.alertService.confirmDelete("Are you sure you want to delete this movie role?").then(n=>{if(n.response){const u={};u.userId=this.authenticationService.decodedToken.nameid,u.movieRoleId=l.id,u.reason=n.reason,this.movieRoleService.deleteMovieRole(l.id,u).subscribe(()=>{this.alertService.success("Your request to delete this movie role has been placed. A moderator shall soon review it")},l=>{this.alertService.danger(l)})}}):this.alertService.confirmDelete("Are you sure you want to delete this movie role?",!0).then(u=>{u.response&&this.userService.deletePendingMovieRole(this.authenticationService.decodedToken.nameid,l.id).subscribe(()=>{this.alertService.success("Successfully deleted the movie role"),this.movieRoles.splice(n,1)},l=>{this.alertService.danger(l)})})}}var M=u("mXBB"),P=u("ej43"),S=u("qfBg"),J=e.nb({encapsulation:0,styles:[[".card-deck.card-deck-scroll[_ngcontent-%COMP%]{overflow-x:auto;flex-wrap:nowrap;border:2px solid;padding:20px}.card-deck.card-deck-scroll[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex-basis:35%}.card[_ngcontent-%COMP%]{max-height:150px;max-width:150px;padding:1rem}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.2,1.2);transition-duration:.5s;transition-timing-function:ease-out;opacity:.7}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1,1);transition-duration:.5s;transition-timing-function:ease-out}.card-img-wrapper[_ngcontent-%COMP%]{position:relative}.member-icons[_ngcontent-%COMP%]{position:absolute;bottom:-30%;left:0;right:0;margin-left:auto;margin-right:auto;opacity:0}.card-img-wrapper[_ngcontent-%COMP%]:hover   .member-icons[_ngcontent-%COMP%]{bottom:0;opacity:1}.animate[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:30%;left:5%}.longText[_ngcontent-%COMP%]{width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.longText[_ngcontent-%COMP%]:hover{overflow:visible;white-space:normal;width:auto;position:absolute;background-color:#fff}.longText[_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]{margin-top:20px}"]],data:{}});function w(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h6",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function I(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,20,"div",[["class","card card-img-wrapper"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(3,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.eb(16777216,null,null,1,null,w)),e.ob(5,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(6,0,null,null,4,"div",[["class"," member-icons animate text-center"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,1,"button",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.edit(l.context.$implicit)&&e),e}),null,null)),(l()(),e.pb(8,0,null,null,0,"i",[["class","fa fa-pencil"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.delete(l.context.$implicit,l.context.index)&&e),e}),null,null)),(l()(),e.pb(10,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,9,"div",[["class","card-body"],["style","width: max-content; padding-left: 0%;"]],null,null,null,null,null)),(l()(),e.pb(12,0,null,null,8,"div",[["class","longText"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,1,"strong",[["class","card-title"]],null,null,null,null,null)),(l()(),e.Jb(14,null,["",""])),(l()(),e.pb(15,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Jb(17,null,["",""])),(l()(),e.pb(18,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(19,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),e.Jb(20,null,["",""]))],(function(l,n){l(n,3,0,"card-img-top",!n.context.$implicit.isApproved&&"pending-approval"),l(n,5,0,!n.context.$implicit.isApproved)}),(function(l,n){l(n,1,0,e.tb(1,"",(null==n.context.$implicit?null:n.context.$implicit.artist.photoUrl)||"../../../assets/artist.png","")),l(n,14,0,n.context.$implicit.artist.firstName),l(n,17,0,n.context.$implicit.artist.lastName),l(n,20,0,n.context.$implicit.roleDescription)}))}function A(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","col-lg-4 mb-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-movie-artist-card",[],null,null,null,h,m)),e.ob(2,114688,null,0,c,[b.a,d.b,p.a],{artist:[0,"artist"],roleType:[1,"roleType"],movie:[2,"movie"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.$implicit,u.roleType,u.movie)}),null)}function R(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,11,"div",[["class","container mt-3 justify-content-center"],["style","border: 2px; border-color: black;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["Select ","(s)"])),(l()(),e.pb(3,0,null,null,8,"div",[["class"," card-deck card-deck-scroll"],["style","height: 300px;"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,5,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,1,"button",[["class","btn btn-primary btn-lg"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,13).show()&&t),t}),null,null)),(l()(),e.pb(7,0,null,null,0,"i",[["class","fa fa-plus-circle fa-lg"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,1,"h3",[["class","card-title"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Add"])),(l()(),e.eb(16777216,null,null,1,null,I)),e.ob(11,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(12,16777216,null,null,33,"div",[["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,13).onClick(u)&&t),"keydown.esc"===n&&(t=!1!==e.Bb(l,13).onEsc(u)&&t),t}),null,null)),e.ob(13,212992,[["artistList",4]],0,d.e,[e.k,e.M,e.B,f.a],null,null),(l()(),e.pb(14,0,null,null,31,"div",[["class","modal-lg modal-dialog"]],null,null,null,null,null)),(l()(),e.pb(15,0,null,null,30,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,15,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.pb(17,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Jb(18,null,["Select ",""])),(l()(),e.pb(19,0,null,null,5,"input",[["class","form-control ml-2"],["placeholder","Search"],["style","width: 300px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Bb(l,20)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,20).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,20)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,20)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.search=u)&&t),"ngModelChange"===n&&(t=!1!==i.getArtists()&&t),t}),null,null)),e.ob(20,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(22,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(24,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(25,0,null,null,4,"button",[["class","btn btn-primary ml-3"],["style","cursor:auto"]],null,null,null,null,null)),(l()(),e.pb(26,0,null,null,3,"a",[["style","color: white;"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,27).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t}),null,null)),e.ob(27,671744,null,0,y.n,[y.k,y.a,a.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),e.Cb(28,1),(l()(),e.Jb(-1,null,["New"])),(l()(),e.pb(30,0,null,null,1,"button",[["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,13).hide()&&t),t}),null,null)),(l()(),e.pb(31,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(l()(),e.pb(32,0,null,null,3,"div",[["class","modal-body"],["style","overflow-y: auto; height: 500px;"]],null,null,null,null,null)),(l()(),e.pb(33,0,null,null,2,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,A)),e.ob(35,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(36,0,null,null,6,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.pb(37,0,null,null,5,"pagination",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"pageChanged"]],(function(l,n,u){var e=!0,t=l.component;return"ngModelChange"===n&&(e=!1!==(t.pageNumber=u)&&e),"pageChanged"===n&&(e=!1!==t.pageChanged(u)&&e),e}),C.b,C.a)),e.ob(38,114688,null,0,B.b,[e.k,B.c,e.h],{boundaryLinks:[0,"boundaryLinks"],itemsPerPage:[1,"itemsPerPage"],totalItems:[2,"totalItems"]},{pageChanged:"pageChanged"}),e.Gb(1024,null,r.j,(function(l){return[l]}),[B.b]),e.ob(40,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(42,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(43,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.pb(44,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,13).hide()&&t),t}),null,null)),(l()(),e.Jb(-1,null,["Close"]))],(function(l,n){var u=n.component;l(n,11,0,u.movieRolesAdded),l(n,13,0),l(n,22,0,u.search);var e=l(n,28,0,"/artist/edit");l(n,27,0,"_blank",e),l(n,35,0,u.artists),l(n,38,0,!0,u.pageSize,u.totalItems),l(n,40,0,u.pageNumber)}),(function(l,n){var u=n.component;l(n,2,0,u.roleType.roleName),l(n,18,0,u.roleType.roleName),l(n,19,0,e.Bb(n,24).ngClassUntouched,e.Bb(n,24).ngClassTouched,e.Bb(n,24).ngClassPristine,e.Bb(n,24).ngClassDirty,e.Bb(n,24).ngClassValid,e.Bb(n,24).ngClassInvalid,e.Bb(n,24).ngClassPending),l(n,26,0,e.Bb(n,27).target,e.Bb(n,27).href),l(n,37,0,e.Bb(n,42).ngClassUntouched,e.Bb(n,42).ngClassTouched,e.Bb(n,42).ngClassPristine,e.Bb(n,42).ngClassDirty,e.Bb(n,42).ngClassValid,e.Bb(n,42).ngClassInvalid,e.Bb(n,42).ngClassPending)}))}var T=u("2ZVE"),O=u("Vu3N"),_=u("Osdn");class D{constructor(l,n,u,t){this.photoService=l,this.alertService=n,this.userService=u,this.authenticationService=t,this.url=new e.m,this.files=[],this.loading=!1}ngOnInit(){this.moviePhotos||(this.moviePhotos=[])}addFromDropzone(l){let n;for(n=0;n<l.length;n++)this.files.push(l[n])}deleteAttachment(l){this.files.splice(l,1)}addFromForm(l){let n;for(n=0;n<l.length;n++)l.item(n).size>10485760?this.alertService.warning("Max file size 10 MB"):this.files.push(l.item(n))}uploadPhotos(){let l;for(l=0;l<this.files.length;l++){this.loading=!0;const n=this.files[l],u=new FormData;u.append("File",n,n.name),this.photoService.addMoviePhoto(u,this.id).subscribe(l=>{0===this.moviePhotos.length&&this.url.emit(l.photo.url),this.alertService.success("Successfully added the photo. A moderator shall soon review it."),this.files.splice(this.files.indexOf(n),1),this.moviePhotos.push(l),this.loading=!1},l=>{this.alertService.danger(l),this.loading=!1})}}deletePhoto(l,n){l.photo.isApproved?this.alertService.confirmDelete("Are you sure you want to delete this photo?").then(n=>{if(n.response){const u={};u.reason=n.reason,u.userId=this.authenticationService.decodedToken.nameid,u.photoId=l.photo.id,this.photoService.deleteMoviePhoto(this.id,l.photo.id,u).subscribe(()=>{this.alertService.success("Your request to delete this photo has been placed. A moderator shall soon review it")},l=>{this.alertService.danger(l)})}}):this.alertService.confirmDelete("Are you sure you want to delete this photo?",!0).then(u=>{u.response&&this.userService.deletePendingPhoto(this.authenticationService.decodedToken.nameid,l.photo.id).subscribe(()=>{this.alertService.success("Successfully deleted the photo"),this.moviePhotos.splice(n,1)},l=>{this.alertService.danger(l)})})}setDisplayPicture(l){this.photoService.setMovieDisplayPhoto(this.id,l.photo.id).subscribe(()=>{this.url.emit(l.photo.url)},l=>{this.alertService.danger(l)})}}var L=u("6/gD"),F=e.nb({encapsulation:0,styles:[[".uploadfilecontainer[_ngcontent-%COMP%]{margin:20px auto;border:2px dashed #1c8adb;border-radius:10px}.uploadfilecontainer[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#9ecbec!important;opacity:.8}.files-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:80%;margin:10px auto;background:#fff;border:1px dashed;padding:5px;color:#1c8adb}.files-list[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]{width:50px;background:0 0;border:none;cursor:pointer}.btn-slide[_ngcontent-%COMP%]{opacity:.6}.btn-slide[_ngcontent-%COMP%]:hover{opacity:1}.lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;color:#033c73;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #000;border-radius:50%;-webkit-animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-ring;animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-ring;border-color:#033c73 transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes lds-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:40%;left:25%}"]],data:{}});function $(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function z(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,12,"slide",[],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,O.d,O.b)),e.ob(2,245760,null,0,_.d,[_.a],null,null),(l()(),e.pb(3,0,null,0,2,"img",[["alt",""],["style","width: 100%;"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(5,278528,null,0,a.k,[a.x],{ngClass:[0,"ngClass"]},null),(l()(),e.eb(16777216,null,0,1,null,$)),e.ob(7,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(8,0,null,0,5,"div",[["class","carousel-caption d-none d-md-block"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"button",[["class","btn btn-slide btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.setDisplayPicture(l.context.$implicit)&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Set As Display Picture"])),(l()(),e.pb(12,0,null,null,1,"button",[["class","btn btn-slide btn-danger"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deletePhoto(l.context.$implicit,l.context.index)&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Delete"]))],(function(l,n){l(n,2,0),l(n,5,0,!n.context.$implicit.photo.isApproved&&"pending-approval"),l(n,7,0,!n.context.$implicit.photo.isApproved)}),(function(l,n){l(n,1,0,!e.Bb(n,2).active,e.Bb(n,2).active,e.Bb(n,2).itemWidth,e.Bb(n,2).order,e.Bb(n,2).addClass,e.Bb(n,2).addClass),l(n,3,0,e.tb(1,"",n.context.$implicit.photo.url,"")),l(n,10,0,!n.context.$implicit.photo.isApproved)}))}function N(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,3,"carousel",[],null,null,null,O.c,O.a)),e.ob(2,4374528,null,0,_.a,[_.b,e.x],null,null),(l()(),e.eb(16777216,null,0,1,null,z)),e.ob(4,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.moviePhotos)}),null)}function G(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","lds-ring"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"div",[],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,0,"div",[],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,0,"div",[],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function j(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,9,"div",[["class","container mt-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,4,"div",[["appDragDrop",""],["class","uploadfilecontainer text-center"]],null,[[null,"click"],[null,"filesDropped"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==e.Bb(l,2).click()&&t),"filesDropped"===n&&(t=!1!==i.addFromDropzone(u)&&t),t}),null,null)),(l()(),e.pb(2,0,[["fileInput",1]],null,0,"input",[["hidden",""],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.addFromDropzone(u.target.files)&&e),e}),null,null)),(l()(),e.pb(3,0,null,null,0,"i",[["class","fa fa-upload fa-3x"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Drag and Drop your Images Here."])),(l()(),e.pb(6,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Or choose Images below"])),(l()(),e.pb(8,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,0,"input",[["accept","image/*"],["id","file"],["multiple",""],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.addFromForm(u.target.files)&&e),e}),null,null))],null,null)}function q(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,7,"div",[["class","files-list"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"p",[["style","text-overflow: ellipsis; overflow: hidden "]],null,null,null,null,null)),(l()(),e.Jb(2,null,[" "," "])),(l()(),e.pb(3,0,null,null,2,"p",[["style","justify-content: right;"]],null,null,null,null,null)),(l()(),e.Jb(4,null,["","MB"])),e.Fb(5,2),(l()(),e.pb(6,0,null,null,1,"button",[["class","delete-file"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteAttachment(l.context.index)&&e),e}),null,null)),(l()(),e.pb(7,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.name);var u=e.Kb(n,4,0,l(n,5,0,e.Bb(n.parent,0),n.context.$implicit.size/1024/1024,".2"));l(n,4,0,u)}))}function E(l){return e.Lb(0,[e.Db(0,a.f,[e.s]),(l()(),e.pb(1,0,null,null,16,"div",[["class","row"],["style","display: flex"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,2,"div",[["class","col-sm-6"],["style","flex: 1;"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,N)),e.ob(4,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(5,0,null,null,12,"div",[["class","col-sm-6"],["style","flex: 1;"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Add Photos"])),(l()(),e.pb(8,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,G)),e.ob(10,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,j)),e.ob(12,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(13,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,q)),e.ob(15,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(16,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.uploadPhotos()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Upload All"]))],(function(l,n){var u=n.component;l(n,4,0,(null==u.moviePhotos?null:u.moviePhotos.length)>0),l(n,10,0,u.loading),l(n,12,0,!u.loading),l(n,15,0,u.files)}),(function(l,n){var u=n.component;l(n,16,0,0===u.files.length||u.loading)}))}var U=u("pKUh"),V=u("ienR");class Y{constructor(l,n,u,e,t,i,o,s){this.movieService=l,this.formBuilder=n,this.route=u,this.alertService=e,this.roleTypeService=t,this.router=i,this.authenticationService=o,this.userService=s,this.movieRoles=[],this.seperatedMovieRoles=[],this.artists=[],this.movieRoleToAdd={}}ngOnInit(){this.createForm(),this.route.queryParams.subscribe(l=>{this.id=l.id,this.id&&this.movieService.getMovie(this.id).subscribe(l=>{this.movie=l,this.createForm(),this.seperateMovieRoles()},l=>{this.alertService.danger(l)})})}createForm(){this.movieForm=this.formBuilder.group({name:[this.movie?this.movie.name:"",r.w.required],runtime:[this.movie?this.movie.runtime:"",[r.w.required,r.w.min(0)]],plotSummary:[this.movie?this.movie.plotSummary:"",r.w.required],releaseDate:[this.movie?new Date(this.movie.releaseDate).toLocaleDateString():"",r.w.required],country:[this.movie?this.movie.country:"",r.w.required],language:[this.movie?this.movie.language:"",r.w.required],genre:[this.movie?this.movie.genre:"",r.w.required]})}save(){this.movieForm.valid&&(this.movie?this.movieService.updateMovie(this.getChangedValues(this.movie.id)).subscribe(l=>{this.movie=l,this.alertService.success(this.movie.isApproved?"Your changes have been submitted for approval. A moderator will review them shortly.":"Successfully updated the entry"),this.movieForm.markAsPristine()},l=>{this.alertService.danger(l)}):(this.movieToSave=Object.assign({},this.movieForm.value),this.movieToSave.releaseDate=this.getUtcDate(this.movieToSave.releaseDate),this.movieService.createMovie(this.movieToSave).subscribe(l=>{this.movie=l,this.seperateMovieRoles(),this.alertService.success("Sucesfully saved the entry. A moderator shall soon review it."),this.movieForm.markAsPristine()},l=>{this.alertService.danger(l)})))}seperateMovieRoles(){this.movie&&(this.movieRoles=this.movie.movieRoles,this.movieRoles||(this.movieRoles=[])),this.roleTypeService.getRoleTypes().subscribe(l=>{this.roleTypes=l;for(let n=0;n<this.roleTypes.length;n++){if(this.movieRoleToAdd.roleType=this.roleTypes[n],this.movie)for(let l=0;l<this.movieRoles.length;l++)this.roleTypes[n].roleName===this.movieRoles[l].roleType.roleName&&(this.artists.push(this.movieRoles[l]),this.movieRoles.splice(l,1),l--);this.movieRoleToAdd.artists=this.artists,this.artists=[],this.seperatedMovieRoles.push(this.movieRoleToAdd),this.movieRoleToAdd={}}})}changeDisplayPicture(l){this.movie.photoUrl=l}getChangedValues(l){const n={};return this.movie.isApproved&&(n.isMovieApproved=!0),n.MovieId=l,Object.keys(this.movieForm.controls).forEach(l=>{const u=this.movieForm.get(l);u.dirty&&(n[l]=u.value,"releaseDate"===l&&(n[l]=this.getUtcDate(u.value)))}),n}deleteMovie(){this.movie.isApproved?this.alertService.confirmDelete("Are you sure you want to delete this movie?").then(l=>{if(l.response){const n={};n.reason=l.reason,n.userId=this.authenticationService.decodedToken.nameid,n.movieId=this.movie.id,this.movieService.deleteMovie(this.movie.id,n).subscribe(()=>{this.alertService.success("Your request to delete this movie has been placed. A moderator shall soon review it.")},l=>{this.alertService.danger(l)})}}):this.alertService.confirmDelete("Are you sure you want to delete this movie?",!0).then(l=>{l.response&&this.userService.deletePendingMovie(this.authenticationService.decodedToken.nameid,this.movie.id).subscribe(()=>{this.alertService.success("Successfully deleted the movie"),this.router.navigate(["movies"])},l=>{this.alertService.danger(l)})})}getUtcDate(l){return new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate()))}}var K=u("HGT+"),H=u("PbSn"),X=e.nb({encapsulation:0,styles:[[""]],data:{}});function W(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","container"],["style","width: 800px;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-movie-edit-card-deck",[],null,null,null,R,J)),e.ob(2,114688,null,0,x,[M.a,P.a,p.a,b.a,d.b,S.a],{roleType:[0,"roleType"],movie:[1,"movie"],movieRoles:[2,"movieRoles"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.roleType,n.component.movie,n.context.$implicit.artists)}),null)}function Z(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tab",[["heading","Edit Photos"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e.ob(1,212992,null,0,T.b,[T.d,e.k,e.B],{heading:[0,"heading"]},null),(l()(),e.pb(2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,1,"app-movie-edit-photo",[],null,[[null,"url"]],(function(l,n,u){var e=!0;return"url"===n&&(e=!1!==l.component.changeDisplayPicture(u)&&e),e}),E,F)),e.ob(4,114688,null,0,D,[L.a,b.a,S.a,P.a],{moviePhotos:[0,"moviePhotos"],id:[1,"id"]},{url:"url"})],(function(l,n){var u=n.component;l(n,1,0,"Edit Photos"),l(n,4,0,u.movie.moviePhotos,u.movie.id)}),(function(l,n){l(n,0,0,e.Bb(n,1).id,e.Bb(n,1).active,e.Bb(n,1).addClass)}))}function Q(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.movie.name)}))}function ll(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["New Movie"]))],null,null)}function nl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","btn-group mt-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteMovie()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Delete Movie"]))],null,null)}function ul(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,120,"div",[["class","row mt-2 p-2"],["style","display: flex;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,111,"div",[["class","tab-panel col-sm-9"],["style","border: 1px solid; border-color: darkgray; flex: 1;"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,110,"tabset",[],[[2,"tab-container",null]],null,null,U.b,U.a)),e.ob(3,180224,null,0,T.d,[T.e,e.B,e.k],null,null),(l()(),e.pb(4,0,null,0,106,"tab",[["heading","Edit Movie"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e.ob(5,212992,null,0,T.b,[T.d,e.k,e.B],{heading:[0,"heading"]},null),(l()(),e.pb(6,0,null,null,101,"div",[["class","container mt-2"],["style","width: 800px;"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,100,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0,i=l.component;return"submit"===n&&(t=!1!==e.Bb(l,9).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Bb(l,9).onReset()&&t),"submit"===n&&(t=!1!==i.save()&&t),t}),null,null)),e.ob(8,16384,null,0,r.B,[],null,null),e.ob(9,540672,null,0,r.f,[[8,null],[8,null]],{form:[0,"form"]},null),e.Gb(2048,null,r.b,null,[r.f]),e.ob(11,16384,null,0,r.m,[[4,r.b]],null,null),(l()(),e.pb(12,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,8,"input",[["class","form-control"],["formControlName","name"],["placeholder","Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,17)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,17).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,17)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,17)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(15,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(16,{"is-invalid":0}),e.ob(17,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(19,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(21,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(22,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please enter the movie title. "])),(l()(),e.pb(24,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(25,0,null,null,8,"input",[["class","form-control"],["formControlName","language"],["placeholder","Language"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,29)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,29).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,29)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,29)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(27,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(28,{"is-invalid":0}),e.ob(29,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(31,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(33,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(34,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please enter a language. "])),(l()(),e.pb(36,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(37,0,null,null,8,"input",[["class","form-control"],["formControlName","genre"],["placeholder","Genre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,41)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,41).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,41)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,41)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(39,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(40,{"is-invalid":0}),e.ob(41,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(43,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(45,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(46,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please enter a genre. "])),(l()(),e.pb(48,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(49,0,null,null,8,"textarea",[["class","form-control"],["formControlName","plotSummary"],["placeholder","Plot Summary"],["rows","6"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,53)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,53).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,53)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,53)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(51,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(52,{"is-invalid":0}),e.ob(53,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(55,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(57,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(58,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please write a brief summary of the plot. "])),(l()(),e.pb(60,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(61,16777216,null,null,12,"input",[["bsDatepicker",""],["class","form-control"],["formControlName","releaseDate"],["placeholder","Release Date"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,65)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,65).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,65)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,65)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,68).onChange(u)&&t),"keyup.esc"===n&&(t=!1!==e.Bb(l,68).hide()&&t),"blur"===n&&(t=!1!==e.Bb(l,68).onBlur()&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(63,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(64,{"is-invalid":0}),e.ob(65,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.ob(66,737280,null,0,V.c,[V.a,e.k,e.B,e.M,f.a],{bsConfig:[0,"bsConfig"]},null),e.Eb(67,{containerClass:0}),e.ob(68,16384,null,0,V.f,[V.c,V.j,e.B,e.k,e.h],null,null),e.Gb(1024,null,r.i,(function(l){return[l]}),[V.f]),e.Gb(1024,null,r.j,(function(l,n){return[l,n]}),[r.c,V.f]),e.ob(71,671744,null,0,r.e,[[3,r.b],[6,r.i],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(73,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(74,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" The release date is required. "])),(l()(),e.pb(76,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(77,0,null,null,9,"input",[["class","form-control"],["formControlName","runtime"],["placeholder","Runtime"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,81)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,81).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,81)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,81)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Bb(l,82).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Bb(l,82).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,82).onTouched()&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(79,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(80,{"is-invalid":0}),e.ob(81,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.ob(82,16384,null,0,r.q,[e.B,e.k],null,null),e.Gb(1024,null,r.j,(function(l,n){return[l,n]}),[r.c,r.q]),e.ob(84,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(86,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(87,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please enter the runtime. "])),(l()(),e.pb(89,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(90,0,null,null,8,"input",[["class","form-control"],["formControlName","country"],["placeholder","Country"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Bb(l,94)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,94).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,94)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,94)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(92,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(93,{"is-invalid":0}),e.ob(94,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(96,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.j],[2,r.z]],{name:[0,"name"]},null),e.Gb(2048,null,r.k,null,[r.e]),e.ob(98,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(99,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" Please enter the country. "])),(l()(),e.pb(101,0,null,null,6,"div",[["class","form-group text-center"]],null,null,null,null,null)),(l()(),e.pb(102,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Jb(-1,null,["Save"])),(l()(),e.pb(104,0,null,null,3,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,105).onClick()&&t),t}),null,null)),e.ob(105,16384,null,0,y.l,[y.k,y.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Cb(106,1),(l()(),e.Jb(-1,null,[" Cancel "])),(l()(),e.pb(108,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,W)),e.ob(110,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.eb(16777216,null,0,1,null,Z)),e.ob(112,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(113,0,null,null,7,"div",[["class","col-sm-3 p-2"],["style","border: 1px solid; border-color: darkgray;"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Q)),e.ob(115,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,ll)),e.ob(117,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(118,0,null,null,0,"img",[["alt",""],["style","display: block; width: 100%;"]],[[8,"src",4]],null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,nl)),e.ob(120,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,"Edit Movie"),l(n,9,0,u.movieForm);var e=l(n,16,0,u.movieForm.get("name").errors&&u.movieForm.get("name").touched);l(n,15,0,"form-control",e),l(n,19,0,"name");var t=l(n,28,0,u.movieForm.get("language").errors&&u.movieForm.get("language").touched);l(n,27,0,"form-control",t),l(n,31,0,"language");var i=l(n,40,0,u.movieForm.get("genre").errors&&u.movieForm.get("genre").touched);l(n,39,0,"form-control",i),l(n,43,0,"genre");var o=l(n,52,0,u.movieForm.get("plotSummary").errors&&u.movieForm.get("plotSummary").touched);l(n,51,0,"form-control",o),l(n,55,0,"plotSummary");var s=l(n,64,0,u.movieForm.get("releaseDate").errors&&u.movieForm.get("releaseDate").touched);l(n,63,0,"form-control",s);var a=l(n,67,0,"theme-dark-blue");l(n,66,0,a),l(n,71,0,"releaseDate");var r=l(n,80,0,u.movieForm.get("runtime").errors&&u.movieForm.get("runtime").touched);l(n,79,0,"form-control",r),l(n,84,0,"runtime");var c=l(n,93,0,u.movieForm.get("country").errors&&u.movieForm.get("country").touched);l(n,92,0,"form-control",c),l(n,96,0,"country");var b=l(n,106,0,"/movie");l(n,105,0,b),l(n,110,0,u.seperatedMovieRoles),l(n,112,0,u.movie),l(n,115,0,u.movie),l(n,117,0,!u.movie),l(n,120,0,u.movie)}),(function(l,n){var u=n.component;l(n,2,0,e.Bb(n,3).clazz),l(n,4,0,e.Bb(n,5).id,e.Bb(n,5).active,e.Bb(n,5).addClass),l(n,7,0,e.Bb(n,11).ngClassUntouched,e.Bb(n,11).ngClassTouched,e.Bb(n,11).ngClassPristine,e.Bb(n,11).ngClassDirty,e.Bb(n,11).ngClassValid,e.Bb(n,11).ngClassInvalid,e.Bb(n,11).ngClassPending),l(n,13,0,e.Bb(n,21).ngClassUntouched,e.Bb(n,21).ngClassTouched,e.Bb(n,21).ngClassPristine,e.Bb(n,21).ngClassDirty,e.Bb(n,21).ngClassValid,e.Bb(n,21).ngClassInvalid,e.Bb(n,21).ngClassPending),l(n,25,0,e.Bb(n,33).ngClassUntouched,e.Bb(n,33).ngClassTouched,e.Bb(n,33).ngClassPristine,e.Bb(n,33).ngClassDirty,e.Bb(n,33).ngClassValid,e.Bb(n,33).ngClassInvalid,e.Bb(n,33).ngClassPending),l(n,37,0,e.Bb(n,45).ngClassUntouched,e.Bb(n,45).ngClassTouched,e.Bb(n,45).ngClassPristine,e.Bb(n,45).ngClassDirty,e.Bb(n,45).ngClassValid,e.Bb(n,45).ngClassInvalid,e.Bb(n,45).ngClassPending),l(n,49,0,e.Bb(n,57).ngClassUntouched,e.Bb(n,57).ngClassTouched,e.Bb(n,57).ngClassPristine,e.Bb(n,57).ngClassDirty,e.Bb(n,57).ngClassValid,e.Bb(n,57).ngClassInvalid,e.Bb(n,57).ngClassPending),l(n,61,0,e.Bb(n,73).ngClassUntouched,e.Bb(n,73).ngClassTouched,e.Bb(n,73).ngClassPristine,e.Bb(n,73).ngClassDirty,e.Bb(n,73).ngClassValid,e.Bb(n,73).ngClassInvalid,e.Bb(n,73).ngClassPending),l(n,77,0,e.Bb(n,86).ngClassUntouched,e.Bb(n,86).ngClassTouched,e.Bb(n,86).ngClassPristine,e.Bb(n,86).ngClassDirty,e.Bb(n,86).ngClassValid,e.Bb(n,86).ngClassInvalid,e.Bb(n,86).ngClassPending),l(n,90,0,e.Bb(n,98).ngClassUntouched,e.Bb(n,98).ngClassTouched,e.Bb(n,98).ngClassPristine,e.Bb(n,98).ngClassDirty,e.Bb(n,98).ngClassValid,e.Bb(n,98).ngClassInvalid,e.Bb(n,98).ngClassPending),l(n,102,0,!u.movieForm.valid||!u.movieForm.dirty),l(n,118,0,e.tb(1,"",(null==u.movie?null:u.movie.photoUrl)||"../../../../../assets/movie.png",""))}))}function el(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"app-movie-edit",[],null,null,null,ul,X)),e.ob(1,114688,null,0,Y,[K.a,r.d,y.a,b.a,H.a,y.k,P.a,S.a],null,null)],(function(l,n){l(n,1,0)}),null)}var tl=e.lb("app-movie-edit",Y,el,{},{},[]);class il{constructor(){}ngOnInit(){}}var ol=e.nb({encapsulation:0,styles:[[".pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:30%;left:15%}"]],data:{}});function sl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h6",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function al(l){return e.Lb(0,[e.Db(0,a.e,[e.s]),(l()(),e.pb(1,0,null,null,21,"div",[["class","card mb-3"],["style","max-width: 540px;"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,20,"div",[["class","row no-gutters"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,8,"div",[["class","col-md-4"],["style","cursor: pointer;"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,4).onClick()&&t),t}),null,null)),e.ob(4,16384,null,0,y.l,[y.k,y.a,[8,null],e.B,e.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Eb(5,{id:0}),e.Cb(6,1),(l()(),e.pb(7,0,null,null,2,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(9,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.eb(16777216,null,null,1,null,sl)),e.ob(11,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(12,0,null,null,10,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(l()(),e.Jb(15,null,["",""])),(l()(),e.pb(16,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),e.Jb(17,null,[""," "])),(l()(),e.pb(18,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(19,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),e.pb(20,0,null,null,2,"small",[["class","text-muted"]],null,null,null,null,null)),(l()(),e.Jb(21,null,["",""])),e.Fb(22,2)],(function(l,n){var u=n.component,e=l(n,5,0,u.movie.id),t=l(n,6,0,"/movie/detail");l(n,4,0,e,t),l(n,9,0,"card-img-top",!u.movie.isApproved&&"pending-approval"),l(n,11,0,!u.movie.isApproved)}),(function(l,n){var u=n.component;l(n,7,0,e.tb(1,"",u.movie.photoUrl||"../../../assets/movie.png","")),l(n,15,0,u.movie.name),l(n,17,0,u.movie.language);var t=e.Kb(n,21,0,l(n,22,0,e.Bb(n,0),u.movie.releaseDate,"MMM/yyyy"));l(n,21,0,t)}))}class rl{constructor(l,n){this.movieService=l,this.alertService=n,this.pageNumber=1,this.pageSize=6,this.sortingOptions=[{display:"Name",value:"name"},{display:"Release Date",value:"release"},{display:"Recently Added",value:"recent"}],this.sortBy="name",this.descending=!1}ngOnInit(){this.getMovies()}pageChanged(l){this.pageNumber=l.page,this.getMovies()}getMovies(){this.movieService.getMovies(this.pageNumber,this.pageSize,this.search,this.sortBy,this.descending).subscribe(l=>{this.movies=l.data,this.totalItems=l.pagination.totalItems},l=>{this.alertService.danger(l)})}getAscending(){this.descending=!1,this.getMovies()}getDescending(){this.descending=!0,this.getMovies()}}var cl=e.nb({encapsulation:0,styles:[[""]],data:{}});function bl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.ob(1,147456,null,0,r.p,[e.k,e.B,[2,r.v]],{value:[0,"value"]},null),e.ob(2,147456,null,0,r.A,[e.k,e.B,[8,null]],{value:[0,"value"]},null),(l()(),e.Jb(3,null,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.value),l(n,2,0,n.context.$implicit.value)}),(function(l,n){l(n,3,0,n.context.$implicit.display)}))}function dl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","mx-2 mb-3"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-movie-card",[],null,null,null,al,ol)),e.ob(2,114688,null,0,il,[],{movie:[0,"movie"]},null)],(function(l,n){l(n,2,0,n.context.$implicit)}),null)}function pl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,35,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,4,"div",[["class","btn-group mt-4 col-2"],["style","align-content: center;"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,3,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,4).onClick()&&t),t}),null,null)),e.ob(4,16384,null,0,y.l,[y.k,y.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Cb(5,1),(l()(),e.Jb(-1,null,["Add"])),(l()(),e.pb(7,0,null,null,6,"div",[["class","col-4 mt-4"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,5,"input",[["class","form-control"],["name","search"],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Bb(l,9)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,9).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,9)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,9)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.search=u)&&t),"ngModelChange"===n&&(t=!1!==i.getMovies()&&t),t}),null,null)),e.ob(9,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(11,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(13,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(14,0,null,null,12,"div",[["class","col-3 mt-4"]],null,null,null,null,null)),(l()(),e.pb(15,0,null,null,11,"div",[["class","form-inline"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(17,0,null,null,1,"label",[["for","sortBy"],["style","text-align: left;"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Sort By:"])),(l()(),e.pb(19,0,null,null,7,"select",[["class","form-control ml-2"],["id","sortBy"],["name","sortBy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,u){var t=!0,i=l.component;return"change"===n&&(t=!1!==e.Bb(l,20).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,20).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(i.sortBy=u)&&t),"change"===n&&(t=!1!==i.getMovies()&&t),t}),null,null)),e.ob(20,16384,null,0,r.v,[e.B,e.k],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.v]),e.ob(22,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(24,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.eb(16777216,null,null,1,null,bl)),e.ob(26,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(27,0,null,null,5,"div",[["class","col-3 mt-4"]],null,null,null,null,null)),(l()(),e.pb(28,0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),e.pb(29,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.getAscending()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Ascending"])),(l()(),e.pb(31,0,null,null,1,"button",[["class","btn btn-secondary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.getDescending()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Descending"])),(l()(),e.pb(33,0,null,null,2,"div",[["class","row mt-5 justify-content-center"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,dl)),e.ob(35,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(36,0,null,null,6,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(l()(),e.pb(37,0,null,null,5,"pagination",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"pageChanged"]],(function(l,n,u){var e=!0,t=l.component;return"ngModelChange"===n&&(e=!1!==(t.pageNumber=u)&&e),"pageChanged"===n&&(e=!1!==t.pageChanged(u)&&e),e}),C.b,C.a)),e.ob(38,114688,null,0,B.b,[e.k,B.c,e.h],{boundaryLinks:[0,"boundaryLinks"],itemsPerPage:[1,"itemsPerPage"],totalItems:[2,"totalItems"]},{pageChanged:"pageChanged"}),e.Gb(1024,null,r.j,(function(l){return[l]}),[B.b]),e.ob(40,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(42,16384,null,0,r.l,[[4,r.k]],null,null)],(function(l,n){var u=n.component,e=l(n,5,0,"/movie/edit");l(n,4,0,e),l(n,11,0,"search",u.search),l(n,22,0,"sortBy",u.sortBy),l(n,26,0,u.sortingOptions),l(n,35,0,u.movies),l(n,38,0,!0,u.pageSize,u.totalItems),l(n,40,0,u.pageNumber)}),(function(l,n){var u=n.component;l(n,8,0,e.Bb(n,13).ngClassUntouched,e.Bb(n,13).ngClassTouched,e.Bb(n,13).ngClassPristine,e.Bb(n,13).ngClassDirty,e.Bb(n,13).ngClassValid,e.Bb(n,13).ngClassInvalid,e.Bb(n,13).ngClassPending),l(n,19,0,e.Bb(n,24).ngClassUntouched,e.Bb(n,24).ngClassTouched,e.Bb(n,24).ngClassPristine,e.Bb(n,24).ngClassDirty,e.Bb(n,24).ngClassValid,e.Bb(n,24).ngClassInvalid,e.Bb(n,24).ngClassPending),l(n,29,0,!u.descending),l(n,31,0,u.descending),l(n,37,0,e.Bb(n,42).ngClassUntouched,e.Bb(n,42).ngClassTouched,e.Bb(n,42).ngClassPristine,e.Bb(n,42).ngClassDirty,e.Bb(n,42).ngClassValid,e.Bb(n,42).ngClassInvalid,e.Bb(n,42).ngClassPending)}))}function ml(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"app-movie-list",[],null,null,null,pl,cl)),e.ob(1,114688,null,0,rl,[K.a,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var gl=e.lb("app-movie-list",rl,ml,{},{},[]);class vl{constructor(){}ngOnInit(){}}var hl=e.nb({encapsulation:0,styles:[[".card-deck.card-deck-scroll[_ngcontent-%COMP%]{overflow-x:auto;flex-wrap:nowrap;border:2px solid;padding:20px}.card-deck.card-deck-scroll[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex-basis:35%}.card[_ngcontent-%COMP%]{max-height:150px;max-width:150px;padding:1rem}.pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:30%;left:5%}.longText[_ngcontent-%COMP%]{width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.longText[_ngcontent-%COMP%]:hover{overflow:visible;white-space:normal;width:auto;position:absolute;background-color:#fff}.longText[_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]{margin-top:20px}"]],data:{}});function fl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,3,"div",[["class","card-body justify-content-center"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"strong",[["class","card-title"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["None"])),(l()(),e.pb(4,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function yl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h6",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function Cl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,18,"div",[["class","card"],["style","cursor: pointer;"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,1).onClick()&&t),t}),null,null)),e.ob(1,16384,null,0,y.l,[y.k,y.a,[8,null],e.B,e.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Eb(2,{id:0}),e.Cb(3,1),(l()(),e.pb(4,0,null,null,2,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(6,278528,null,0,a.k,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.eb(16777216,null,null,1,null,yl)),e.ob(8,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(9,0,null,null,9,"div",[["class","card-body"],["style","width: max-content; padding-left: 0%;"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,8,"div",[["class","longText"]],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,1,"strong",[["class","card-title"]],null,null,null,null,null)),(l()(),e.Jb(12,null,["",""])),(l()(),e.pb(13,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Jb(15,null,["",""])),(l()(),e.pb(16,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(17,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),e.Jb(18,null,["",""]))],(function(l,n){var u=l(n,2,0,null==n.context.$implicit.artist?null:n.context.$implicit.artist.id),e=l(n,3,0,"/artist/detail");l(n,1,0,u,e),l(n,6,0,"card-img-top",!n.context.$implicit.isApproved&&"pending-approval"),l(n,8,0,!n.context.$implicit.isApproved)}),(function(l,n){l(n,4,0,e.tb(1,"",(null==n.context.$implicit?null:n.context.$implicit.artist.photoUrl)||"../../../assets/artist.png","")),l(n,12,0,n.context.$implicit.artist.firstName),l(n,15,0,n.context.$implicit.artist.lastName),l(n,18,0,n.context.$implicit.roleDescription)}))}function Bl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,7,"div",[["class","container mt-3 justify-content-center"],["style","border: 2px; border-color: black;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["","(s)"])),(l()(),e.pb(3,0,null,null,4,"div",[["class"," card-deck card-deck-scroll"],["style","height: 300px;"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,fl)),e.ob(5,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Cl)),e.ob(7,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,5,0,0==u.movieRoles.length),l(n,7,0,u.movieRoles)}),(function(l,n){l(n,2,0,n.component.roleType.roleName)}))}class kl{constructor(l,n,u,e,t){this.movieServce=l,this.alertService=n,this.route=u,this.roleTypeService=e,this.modalService=t,this.seperatedMovieRoles=[],this.movieRoleToAdd={},this.movieRolesByType=[],this.movieActivity=[]}ngOnInit(){this.route.queryParams.subscribe(l=>{this.id=l.id}),this.movieServce.getMovie(this.id).subscribe(l=>{this.movie=l,this.seperateMovieRoles()},l=>{this.alertService.danger(l)})}seperateMovieRoles(){this.movie&&(this.movieRoles=this.movie.movieRoles,this.roleTypeService.getRoleTypes().subscribe(l=>{this.roleTypes=l;for(let n=0;n<this.roleTypes.length;n++){this.movieRoleToAdd.roleType=this.roleTypes[n];for(let l=0;l<this.movieRoles.length;l++)this.roleTypes[n].roleName===this.movieRoles[l].roleType.roleName&&(this.movieRolesByType.push(this.movieRoles[l]),this.movieRoles.splice(l,1),l--);this.movieRoleToAdd.movieRoles=this.movieRolesByType,this.movieRolesByType=[],this.seperatedMovieRoles.push(this.movieRoleToAdd),this.movieRoleToAdd={}}}))}openActivityLog(l){this.movieServce.getMovieActivityLog(this.movie.id).subscribe(n=>{this.firstActivity=n[0],this.movieActivity=n,this.movieActivity.splice(0,1),this.modalRef=this.modalService.show(l,{class:"modal-lg"})},l=>{this.alertService.danger(l)})}}var xl=e.nb({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{border:2px solid}th[_ngcontent-%COMP%]{width:200px;border:2px solid}.pending-approval[_ngcontent-%COMP%]{opacity:.2}.img-text[_ngcontent-%COMP%]{position:absolute;bottom:40%;left:25%}"]],data:{}});function Ml(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"app-movie-detail-card-deck",[],null,null,null,Bl,hl)),e.ob(2,114688,null,0,vl,[],{roleType:[0,"roleType"],movieRoles:[1,"movieRoles"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.roleType,n.context.$implicit.movieRoles)}),null)}function Pl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Ml)),e.ob(2,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.seperatedMovieRoles)}),null)}function Sl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[["class","text-center img-text"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[["class","text-danger"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Not Yet Approved"]))],null,null)}function Jl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,6,"slide",[["style","margin-left: auto !important;margin-right: auto !important;"]],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,O.d,O.b)),e.ob(1,245760,null,0,_.d,[_.a],null,null),(l()(),e.pb(2,0,null,0,2,"img",[["alt",""],["style","display: block; width: 100%;"]],[[8,"src",4]],null,null,null,null)),e.Gb(512,null,a.x,a.y,[e.q,e.r,e.k,e.B]),e.ob(4,278528,null,0,a.k,[a.x],{ngClass:[0,"ngClass"]},null),(l()(),e.eb(16777216,null,0,1,null,Sl)),e.ob(6,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0),l(n,4,0,!n.context.$implicit.photo.isApproved&&"pending-approval"),l(n,6,0,!n.context.$implicit.photo.isApproved)}),(function(l,n){l(n,0,0,!e.Bb(n,1).active,e.Bb(n,1).active,e.Bb(n,1).itemWidth,e.Bb(n,1).order,e.Bb(n,1).addClass,e.Bb(n,1).addClass),l(n,2,0,n.context.$implicit.photo.url)}))}function wl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,3,"carousel",[["class","mx-auto"]],null,null,null,O.c,O.a)),e.ob(1,4374528,null,0,_.a,[_.b,e.x],{itemsPerSlide:[0,"itemsPerSlide"]},null),(l()(),e.eb(16777216,null,0,1,null,Jl)),e.ob(3,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,1,0,3),l(n,3,0,u.movie.moviePhotos)}),null)}function Il(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,wl)),e.ob(2,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.movie.moviePhotos.length>0)}),null)}function Al(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.movie.name)}))}function Rl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,5,"div",[["class","btn-group mt-2"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,4,"button",[["class","btn btn-warning"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Bb(l,2).onClick()&&t),t}),null,null)),e.ob(2,16384,null,0,y.l,[y.k,y.a,[8,null],e.B,e.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Eb(3,{id:0}),e.Cb(4,1),(l()(),e.Jb(-1,null,["Edit Movie"]))],(function(l,n){var u=l(n,3,0,n.component.movie.id),e=l(n,4,0,"/movie/edit");l(n,2,0,u,e)}),null)}function Tl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.name)}))}function Ol(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Plot Summary"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.plotSummary)}))}function _l(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Release Date"])),(l()(),e.pb(3,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""])),e.Fb(5,2)],null,(function(l,n){var u=e.Kb(n,4,0,l(n,5,0,e.Bb(n.parent.parent.parent,0),null==n.parent.context.$implicit?null:n.parent.context.$implicit.releaseDate,"dd,MMM,yyyy"));l(n,4,0,u)}))}function Dl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Language"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.language)}))}function Ll(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Genre"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.genre)}))}function Fl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Runtime"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,[""," mins"]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.runtime)}))}function $l(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Country"])),(l()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""]))],null,(function(l,n){l(n,4,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.country)}))}function zl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,4,"h5",[],null,null,null,null,null)),(l()(),e.Jb(2,null,[""," Edited "])),(l()(),e.pb(3,0,null,null,2,"span",[["class","pull-right"]],null,null,null,null,null)),(l()(),e.Jb(4,null,[" ",""])),e.Fb(5,2),(l()(),e.pb(6,0,null,null,14,"table",[["class","table"],["style","border: 1px; border-style: solid; border-color: grey;"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Tl)),e.ob(8,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Ol)),e.ob(10,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,_l)),e.ob(12,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Dl)),e.ob(14,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Ll)),e.ob(16,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,Fl)),e.ob(18,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,$l)),e.ob(20,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,8,0,n.context.$implicit.name),l(n,10,0,n.context.$implicit.plotSummary),l(n,12,0,n.context.$implicit.releaseDate),l(n,14,0,n.context.$implicit.language),l(n,16,0,n.context.$implicit.genre),l(n,18,0,n.context.$implicit.runtime),l(n,20,0,n.context.$implicit.country)}),(function(l,n){l(n,2,0,n.context.$implicit.userName);var u=e.Kb(n,4,0,l(n,5,0,e.Bb(n.parent.parent,0),n.context.$implicit.timeStamp,"dd,MMM,yyyy HH:mm"));l(n,4,0,u)}))}function Nl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(2,null,["",""])),(l()(),e.pb(3,0,null,null,1,"button",[["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.modalRef.hide()&&e),e}),null,null)),(l()(),e.pb(4,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,45,"div",[["class","modal-body"],["style","overflow-y: auto; height: 600px;"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,44,"div",[["class","container mt-2"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,4,"h5",[],null,null,null,null,null)),(l()(),e.Jb(8,null,[""," Added "])),(l()(),e.pb(9,0,null,null,2,"span",[["class","pull-right"]],null,null,null,null,null)),(l()(),e.Jb(10,null,[" ",""])),e.Fb(11,2),(l()(),e.pb(12,0,null,null,36,"table",[["class","table"],["style","border: 1px; border-style: solid; border-color: grey;"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.pb(16,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(17,null,["",""])),(l()(),e.pb(18,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Plot Summary"])),(l()(),e.pb(21,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(22,null,["",""])),(l()(),e.pb(23,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e.pb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Release Date"])),(l()(),e.pb(26,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.Jb(27,null,["",""])),e.Fb(28,2),(l()(),e.pb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(30,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Language"])),(l()(),e.pb(32,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(33,null,["",""])),(l()(),e.pb(34,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Genre"])),(l()(),e.pb(37,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(38,null,["",""])),(l()(),e.pb(39,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Runtime"])),(l()(),e.pb(42,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(43,null,[""," mins"])),(l()(),e.pb(44,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Country"])),(l()(),e.pb(47,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(48,null,["",""])),(l()(),e.eb(16777216,null,null,1,null,zl)),e.ob(50,278528,null,0,a.l,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,50,0,n.component.movieActivity)}),(function(l,n){var u=n.component;l(n,2,0,u.movie.name),l(n,8,0,u.firstActivity.userName);var t=e.Kb(n,10,0,l(n,11,0,e.Bb(n.parent,0),u.firstActivity.timeStamp,"dd,MMM,yyyy HH:mm"));l(n,10,0,t),l(n,17,0,null==u.firstActivity?null:u.firstActivity.name),l(n,22,0,null==u.firstActivity?null:u.firstActivity.plotSummary);var i=e.Kb(n,27,0,l(n,28,0,e.Bb(n.parent,0),null==u.firstActivity?null:u.firstActivity.releaseDate,"dd,MMM,yyyy"));l(n,27,0,i),l(n,33,0,null==u.firstActivity?null:u.firstActivity.language),l(n,38,0,null==u.firstActivity?null:u.firstActivity.genre),l(n,43,0,null==u.firstActivity?null:u.firstActivity.runtime),l(n,48,0,null==u.firstActivity?null:u.firstActivity.country)}))}function Gl(l){return e.Lb(0,[e.Db(0,a.e,[e.s]),(l()(),e.pb(1,0,null,null,61,"div",[["class","row mt-2 p-2"],["style","display: flex;"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,54,"div",[["class","tab-panel col-sm-9"],["style","border: 1px solid; border-color: darkgray; flex: 1;"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,53,"tabset",[],[[2,"tab-container",null]],null,null,U.b,U.a)),e.ob(4,180224,null,0,T.d,[T.e,e.B,e.k],null,null),(l()(),e.pb(5,0,null,0,47,"tab",[["heading","Movie Details"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e.ob(6,212992,null,0,T.b,[T.d,e.k,e.B],{heading:[0,"heading"]},null),(l()(),e.pb(7,0,null,null,45,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,42,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,37,"table",[["class","table mt-2"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,36,"tbody",[],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Title"])),(l()(),e.pb(14,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(15,null,["",""])),(l()(),e.pb(16,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Plot Summary"])),(l()(),e.pb(19,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(20,null,["",""])),(l()(),e.pb(21,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e.pb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Release Date"])),(l()(),e.pb(24,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.Jb(25,null,["",""])),e.Fb(26,2),(l()(),e.pb(27,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(28,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Language"])),(l()(),e.pb(30,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(31,null,["",""])),(l()(),e.pb(32,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Genre"])),(l()(),e.pb(35,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(36,null,["",""])),(l()(),e.pb(37,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(38,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Runtime"])),(l()(),e.pb(40,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(41,null,[""," mins"])),(l()(),e.pb(42,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.pb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Country"])),(l()(),e.pb(45,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Jb(46,null,["",""])),(l()(),e.pb(47,0,null,null,3,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),e.pb(48,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openActivityLog(e.Bb(l,63))&&t),t}),null,null)),(l()(),e.Jb(-1,null,["Edit History "])),(l()(),e.pb(50,0,null,null,0,"i",[["class","fa fa-history"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Pl)),e.ob(52,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(53,0,null,0,3,"tab",[["heading","Movie Photos"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e.ob(54,212992,null,0,T.b,[T.d,e.k,e.B],{heading:[0,"heading"]},null),(l()(),e.eb(16777216,null,null,1,null,Il)),e.ob(56,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(57,0,null,null,5,"div",[["class","col-sm-3 p-2"],["style","border: 1px solid; border-color: darkgray;"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Al)),e.ob(59,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(60,0,null,null,0,"img",[["alt",""],["style","display: block; width: 100%;"]],[[8,"src",4]],null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,Rl)),e.ob(62,16384,null,0,a.m,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(0,[["activity",2]],null,0,null,Nl))],(function(l,n){var u=n.component;l(n,6,0,"Movie Details"),l(n,52,0,u.seperatedMovieRoles.length>0),l(n,54,0,"Movie Photos"),l(n,56,0,u.movie),l(n,59,0,u.movie),l(n,62,0,u.movie)}),(function(l,n){var u=n.component;l(n,3,0,e.Bb(n,4).clazz),l(n,5,0,e.Bb(n,6).id,e.Bb(n,6).active,e.Bb(n,6).addClass),l(n,15,0,null==u.movie?null:u.movie.name),l(n,20,0,null==u.movie?null:u.movie.plotSummary);var t=e.Kb(n,25,0,l(n,26,0,e.Bb(n,0),null==u.movie?null:u.movie.releaseDate,"dd,MMM,yyyy"));l(n,25,0,t),l(n,31,0,null==u.movie?null:u.movie.language),l(n,36,0,null==u.movie?null:u.movie.genre),l(n,41,0,null==u.movie?null:u.movie.runtime),l(n,46,0,null==u.movie?null:u.movie.country),l(n,53,0,e.Bb(n,54).id,e.Bb(n,54).active,e.Bb(n,54).addClass),l(n,60,0,e.tb(1,"",(null==u.movie?null:u.movie.photoUrl)||"../../../../../assets/movie.png",""))}))}function jl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"app-movie-detail",[],null,null,null,Gl,xl)),e.ob(1,114688,null,0,kl,[K.a,b.a,y.a,H.a,d.b],null,null)],(function(l,n){l(n,1,0)}),null)}var ql=e.lb("app-movie-detail",kl,jl,{},{},[]),El=e.nb({encapsulation:0,styles:[[""]],data:{}});function Ul(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(l()(),e.Jb(2,null,[""," ",""])),(l()(),e.pb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.bsModalRef.hide()&&e),e}),null,null)),(l()(),e.pb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["\xd7"])),(l()(),e.pb(6,0,null,null,8,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,0,"img",[["alt",""],["style","width: 300px; height: 300px;"]],[[8,"src",4]],null,null,null,null)),(l()(),e.pb(8,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,5,"input",[["class","form-control mt-2"],["placeholder","Enter Role Details"],["style","width: 300px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Bb(l,10)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Bb(l,10).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Bb(l,10)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Bb(l,10)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.movieRole.roleDescription=u)&&t),t}),null,null)),e.ob(10,16384,null,0,r.c,[e.B,e.k,[2,r.a]],null,null),e.Gb(1024,null,r.j,(function(l){return[l]}),[r.c]),e.ob(12,671744,null,0,r.o,[[8,null],[8,null],[8,null],[6,r.j]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.k,null,[r.o]),e.ob(14,16384,null,0,r.l,[[4,r.k]],null,null),(l()(),e.pb(15,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.saveChanges()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Save"])),(l()(),e.pb(18,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.bsModalRef.hide()&&e),e}),null,null)),(l()(),e.Jb(-1,null,["Close"]))],(function(l,n){l(n,12,0,n.component.movieRole.roleDescription)}),(function(l,n){var u=n.component;l(n,2,0,u.movieRole.artist.firstName,u.movieRole.artist.lastName),l(n,7,0,e.tb(1,"",u.movieRole.artist.photoUrl||"../../../assets/artist.png","")),l(n,9,0,e.Bb(n,14).ngClassUntouched,e.Bb(n,14).ngClassTouched,e.Bb(n,14).ngClassPristine,e.Bb(n,14).ngClassDirty,e.Bb(n,14).ngClassValid,e.Bb(n,14).ngClassInvalid,e.Bb(n,14).ngClassPending)}))}function Vl(l){return e.Lb(0,[(l()(),e.pb(0,0,null,null,1,"app-movie-edit-movie-role",[],null,null,null,Ul,El)),e.ob(1,114688,null,0,k,[p.a,d.a,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Yl=e.lb("app-movie-edit-movie-role",k,Vl,{},{},[]),Kl=u("2uy1"),Hl=u("PCNd"),Xl=u("NJC0");const Wl={role:["Admin","Moderator","User"]};u.d(n,"MovieModuleNgFactory",(function(){return Zl}));var Zl=e.mb(t,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[i.a,i.c,i.b,o.a,o.b,s.a,tl,gl,ql,Yl]],[3,e.j],e.v]),e.zb(4608,a.o,a.n,[e.s,[2,a.C]]),e.zb(4608,_.b,_.b,[]),e.zb(4608,r.y,r.y,[]),e.zb(4608,r.d,r.d,[]),e.zb(4608,Kl.a,Kl.a,[e.C,e.z]),e.zb(4608,f.a,f.a,[e.j,e.x,e.p,Kl.a,e.g]),e.zb(4608,V.r,V.r,[]),e.zb(4608,V.t,V.t,[]),e.zb(4608,V.a,V.a,[]),e.zb(4608,V.h,V.h,[]),e.zb(4608,V.d,V.d,[]),e.zb(4608,V.j,V.j,[]),e.zb(4608,V.s,V.s,[V.t,V.j]),e.zb(4608,d.b,d.b,[e.C,f.a]),e.zb(4608,T.e,T.e,[]),e.zb(4608,B.c,B.c,[]),e.zb(1073742336,a.c,a.c,[]),e.zb(1073742336,V.g,V.g,[]),e.zb(1073742336,d.f,d.f,[]),e.zb(1073742336,T.c,T.c,[]),e.zb(1073742336,B.d,B.d,[]),e.zb(1073742336,_.c,_.c,[]),e.zb(1073742336,r.x,r.x,[]),e.zb(1073742336,r.g,r.g,[]),e.zb(1073742336,r.t,r.t,[]),e.zb(1073742336,Hl.a,Hl.a,[]),e.zb(1073742336,y.o,y.o,[[2,y.t],[2,y.k]]),e.zb(1073742336,t,t,[]),e.zb(1024,y.i,(function(){return[[{path:"edit",component:Y,canActivate:[Xl.a],data:Wl},{path:"",component:rl},{path:"detail",component:kl}]]}),[])])}))}}]);